<html>
  <head>
    <title>
      BCNF Decomposition & FD Closure Demo
    </title>
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
  </head>
  <body>
    <h1>BCNF Decomposition & FD Closure Demo</h1>

    <h2>Computed BCNF Decomposition</h2>
    <dl class="computed">
      <dt class="relation">Input Relation</dt>
      <dd class="relation"><pre>%%%Relation%%%</pre></dd>

      <dt class="decomposition">Decomposed Relations</dt>
      <dd class="decomposition"><pre>%%%BCNF%%%</pre></dd>
    </dl>

    <h2>Perform a BCNF Decomposition</h2>
    <form method="post" action="/bcnf">
      <dl>
        <dt class="attributes">Attributes</dt>
        <dd class="attributes">
          <input type="text" name="attributes" value="%%%attributes%%%" />
          <div class="instructions">
            This should be a comma-separated list of identifiers. Example: <pre>A, B, C, D</pre>. Due to the way I parse this, you can't use single quotes, double quotes, or commas in attribute names.
          </div>
        </dd>

        <dt class="functional_dependencies">Functional Dependencies</dt>
        <dd class="functional_dependencies">
          <textarea name="functional_dependencies">%%%functional_dependencies%%%</textarea>
          <div class="instructions">
            This should be a hash with the keys as determinants and the values as dependants. Both are represented as arrays of strings. Example: <pre>{
  ['A'] =&gt; ['B'],
  ['B'] =&gt; ['C'],
  ['B', 'C'] =&gt; ['D']
}</pre>
          </div>
        </dd>

        <dt class="preserve_dependencies">Preserve Dependencies</dt>
        <dd class="preserve_dependencies">
          <input type="checkbox" name="preserve_dependencies" %%%preserve_dependencies%%%/>
          <div class="instructions">
            If checked, we will try to decompose on a functional dependency that will preserve dependencies. If the box is checked and we can not decompose this relation while preserving dependencies, an error will be given. If the box is unchecked, dependency preservation will not be taken into consideration at all.
          </div>
        </dd>

        <dt class="decompose">Decompose</dt>
        <dd class="decompose"><input type="submit" value="Decompose" /></dd>
      </dl>
    </form>

    <h2>Functional Dependency Set Closure</h2>
    <form method="post" action="/closure">
      <dl>
        <dt class="functional_dependencies">Functional Dependencies</dt>
        <dd class="functional_dependencies">
          <textarea name="functional_dependencies"></textarea>
          <div class="instructions">
            This should be a hash with the keys as determinants and the values as dependants. Both are represented as arrays of strings. Example: <pre>{
  ['A'] =&gt; ['B'],
  ['B'] =&gt; ['C'],
  ['B', 'C'] =&gt; ['D']
}</pre>
          </div>
        </dd>

        <dt class="calculate">Calculate Closure</dt>
        <dd class="calculate"><input type="submit" value="Calculate Closure" /></dd>
      </dl>
    </form>
  </body>
</html>
